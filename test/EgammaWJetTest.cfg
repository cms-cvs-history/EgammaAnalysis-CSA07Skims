# CSA07 Skim for W(->ENu/MunNu)+Jet(->SuperCluster) Events
# Filter events with HLT single electron/muon isolated via trigger bit
# plus SuperCluster or a RecoJet (note that we require 2 SC to account for those 
# in the HLT electrons)
# Created by Alexey Atramentov, Roberto Salerno

process EgammaSkim= {

 untracked PSet options = {
#     include "FWCore/Framework/test/cmsExceptionsFatalOption.cff"
      untracked bool wantSummary = true
      untracked bool makeTriggerResults = true
  }

  untracked PSet maxEvents = {untracked int32 input = -1}

  source = PoolSource {
      untracked vstring fileNames =
      {
       #"rfio:/castor/cern.ch/cms/store/RelVal/2007/8/12/RelVal-RelVal145W-E-1186929820/0002/38390E15-EF48-DC11-85FB-000423D9939C.root"
       #"rfio:/castor/cern.ch/cms/store/RelVal/2007/8/12/RelVal-RelVal145Z-EE-1186929820/0002/4C727B30-E748-DC11-8126-001617C3B6FE.root"
       "rfio:/castor/cern.ch/cms/store/RelVal/2007/8/10/RelVal-RelVal160pre9Z-TT-1186741958/0002/205960E8-6847-DC11-BF6E-00304885AAF2.root"
       #'rfio:/castor/cern.ch/cms/store/RelVal/2007/8/12/RelVal-RelVal145W-E-1186929820/0002/38390E15-EF48-DC11-85FB-000423D9939C.root"
      }
  }

  ## Paths and Modules
  include "EgammaAnalysis/CSA07Skims/data/EgammaWPlusEMOrJetPath.cff"
  include "EgammaAnalysis/CSA07Skims/data/EgammaSkimEventContent.cff"
  include "EgammaAnalysis/CSA07Skims/data/AODSIMEgammaSkimEventContent.cff"
  include "EgammaAnalysis/CSA07Skims/data/RECOSIMEgammaSkimEventContent.cff"

  module outAODSIM = PoolOutputModule {
    untracked string fileName = "EgammaWPlusEMOrJetAODSIM_test.root"
    using AODSIMEgammaSkimEventContent
    using egammaWPlusEMOrJetEventSelection
  }

  module outRECOSIM = PoolOutputModule {
    untracked string fileName = "EgammaWPlusEMOrJetRECOSIM_test.root"
    using RECOSIMEgammaSkimEventContent
    using egammaWPlusEMOrJetEventSelection
  }

  endpath skimout = { outAODSIM, outRECOSIM }

}
