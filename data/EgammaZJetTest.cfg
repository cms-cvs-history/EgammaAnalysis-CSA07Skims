# CSA07 Skim for Z(->EE/MuMu)+Jet(->SuperCluster) Events
# Filter events with two HLT electrons/muons isolated via trigger bit
# plus one SuperCluster or a RecoJet (note that we require 3 SC to account for those 
# in the HLT electrons)
# Created by Alexey Atramentov, Roberto Salerno

process EgammaSkim= {

 untracked PSet options = {
#     include "FWCore/Framework/test/cmsExceptionsFatalOption.cff"
      untracked bool wantSummary = true
      untracked bool makeTriggerResults = true
  }

  untracked PSet maxEvents = {untracked int32 input = -1}

  source = PoolSource {
      untracked vstring fileNames =
      {
       #"rfio:/castor/cern.ch/cms/store/RelVal/2007/8/13/RelVal-RelVal145W-E-1186999371/0003/02845130-8A49-DC11-9AAD-000423D98844.root"
       "rfio:/castor/cern.ch/cms/store/RelVal/2007/8/12/RelVal-RelVal145Z-EE-1186939663/0003/0C39DA11-FD48-DC11-9846-001617C3B712.root"
       #"rfio:/castor/cern.ch/cms/store/RelVal/2007/8/10/RelVal-RelVal160pre9Z-TT-1186741958/0002/205960E8-6847-DC11-BF6E-00304885AAF2.root"
      }
  }

  ## Paths and Modules
  include "EgammaAnalysis/CSA07Skims/data/EgammaZPlusEMOrJetPath.cff"
  include "EgammaAnalysis/CSA07Skims/data/EgammaSkimEventContent.cff"
  include "EgammaAnalysis/CSA07Skims/data/AODSIMEgammaSkimEventContent.cff"
  include "EgammaAnalysis/CSA07Skims/data/RECOSIMEgammaSkimEventContent.cff"

  module outAODSIM = PoolOutputModule {
    untracked string fileName = "EgammaZPlusEMOrJetAODSIM_test.root"
    using AODSIMEgammaSkimEventContent
    using egammaZPlusEMOrJetEventSelection
  }

  module outRECOSIM = PoolOutputModule {
    untracked string fileName = "EgammaZPlusEMOrJetRECOSIM_test.root"
    using RECOSIMEgammaSkimEventContent
    using egammaZPlusEMOrJetEventSelection
  }

  endpath skimout = { outAODSIM, outRECOSIM }

}
